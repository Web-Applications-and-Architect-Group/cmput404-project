{%extends 'base.html' %}
{% block content %}

<div class="container">
            <form class="form-horizontal" role="form">
                <h2 class="text-center">Post Title</h2>
                <div class="form-group">
                    <label for="title" class="col-sm-3 control-label">Title:</label>
                    <div class="col-sm-6 read">
                        <input type="text" id="title" value="{{post.title }}" placeholder="{{post.title}}" class="form-control" autofocus>
			<input type="hidden" value="{{ user }}" id="author">
			<input type="hidden" value="{{ request.user }}" id="viewer">
			<input type="hidden" value="{{ post.visibility }}" id="myVis">
			<input type="hidden" value="{{ post.contentType }}" id="myType">
			<input type="hidden" value="{{ post.unlisted }}" id="unlisted">
			

                        <span class="help-block">@ author: {{user}}</span>
                    </div>
                </div>
                <div class="form-group">
                    <label for="description" class="col-sm-3 control-label">Description</label>
                    <div class="col-sm-6">
                        <input type="text" id="description" value="{{post.description}}" class="form-control">
                    </div>
                </div>
 
                <div class="form-group">
                    <label for="category" class="col-sm-3 control-label">Category</label>
                    <div class="col-sm-6">
                        <input type="text" id="category"  value = "{{category}}" placeholder="..." class="form-control">
			<span class="help-block">block categories by #</span>
                    </div>
                </div>
         
               
                <div class="form-group">
                    <label for="vislibility" class="col-sm-3 control-label">Visibility</label>
                    <div class="col-sm-5">
                        <select id="visibility" class="form-control" >
			    <option value= "0">Public</option>
                            <option value= "1">FOAF</option>
                            <option value= "2">Friends</option>
                            <option value= "3">Private</option>
                            <option value= "4">Server-only</option>
                          
                        </select>
                    </div>
                </div> <!-- /.form-group -->

                <div class="form-group">
                    <label for="content_type" class="col-sm-3 control-label">Content Type</label>
                    <div class="col-sm-5">
                        <select id="content_type" class="form-control">
                            <option value = "0">Plain Text</option>
                            <option value = "1">Markdown</option>
                            <option value = "2">application/base64</option>
			    <option value = "3">image/png;base64</option>
			    <option value = "4">image/jpeg;base64</option>
			    <option value = "5">github-activity</option>			    
                        </select>
                    </div>
                </div> <!-- /.form-group -->

                <div class="form-group">
                    <label class="control-label col-sm-3">Unlisted</label>
                    <div class="col-sm-6">
                        <div class="row">
                            <div class="col-sm-4">
                                <label class="radio-inline">
                                    <input type="radio" id="T">True
                                </label>
                            </div>
                            <div class="col-sm-4">
                                <label class="radio-inline">
                                    <input type="radio" id="F" >False
                                </label>
                            </div>
                       
                        </div>
                    </div>
                </div> <!-- /.form-group -->

	        <div class="form-group">
                    <label for="content" class="col-sm-3 control-label">Content</label>
                    <div class="col-sm-6">
		   <textarea name="content" rows="4" cols="53" >{{post.content}}</textarea>
                    </div>
                </div>   
           
		
		<div class="form-group  center-block " role="group" aria-label="...">
			<div class="list-group col-md-4"></div>
			<div class="btn-group btn-lg" role="group">
			    <button type="button" id= "update" class="btn btn-primary"> Update Post </button>
			</div>
			<div class="btn-group btn-lg" role="group">
			    <button type="button" id= "deletePost" class="btn btn-danger"> Delete Post </button>
			</div>
			 
		</div>

            </form> <!-- /form -->
        </div> <!-- ./container -->

{% endblock %}

{% block javascript %}
<script>
  var author = document.getElementById("author").value;
  var viewer = document.getElementById("viewer").value;
  var readable = document.getElementsByClassName("read");
  var myVis = document.getElementById("myVis").value;
  var myType = document.getElementById("myType").value;
  var unlisted = document.getElementById("unlisted").value;

if (unlisted == "False"){
  document.getElementById("F").checked = true;
  document.getElementById("T").checked = false;
}

  var update = document.getElementById("update");
  var deletePost = document.getElementById("deletePost");

  document.getElementById('visibility').value = myVis
  document.getElementById('content_type').value = myType

if(author!=viewer) {
  update.style.visibility = "hidden";
  deletePost.style.visibility = "hidden";

  for(i=0;i<readable.length;i++) {
      readable[i].readOnly = true;
    }
}




</script>
{% endblock %}


